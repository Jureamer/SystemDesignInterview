- `스케일업`은 수직적 규모 확장 프로세스로, 서버에 고사양 자원을 추가하는 행위
- `스케일아웃`은 수평적 규모 확장 프로세스로, 더 많은 서버를 추가하여 성능을 개선하는 행위

> **수직적 규모 확장의 한계**

- 한 대의 서버에 CPU나 메모리를 무한대로 늘릴 수 없다.
- 장애에 대한 자동 복구(failover) 방안이나 다중화(re-dundancy) 방안을 제시하지 않음. 서버에 장애가 발생하면
  서비스가 완전 중단됨(SPOF)

> ### 로드밸런서

- 로드밸런서는 부하 분산 집합에 속한 웹 서버들에게 트래픽 부하를 고르게 분산하는 역할을 함.
- 사용자는 로드밸런서의 공개 IP 주소로 접속하고 로드밸런서는 웹 서버와 통신하기 위해 사설 IP 주소를 사용한다.
- ex) AWS Loadbalancer의 IP 주소는 기본적으로 시간이 지남에 따라 변경되므로 정적으로 연결하는 것이 아닌
  Route53 등을 통해 동적으로 연결해야한다.
- 웹 서버를 하나 더 추가하게 되면 failover를 방지하여 가용성(availability)을 향상시킬 수 있다.

> ### 데이터베이스 다중화

서버 사이에 주(master) - 부(slave) 관계를 설정하고 데이터 원본은 주 서버에, 사본은 부 서버에 저장하는 방식이다.
쓰기 연산은 마스터에서만 지원한다. 대부분의 애플리케이션은 읽기 연산 비중이 더 높아 부 데이터베이스 수가 주 데이터베이스 수보다 더 많다.

데이터베이스 다중화의 장점

- 더 나은 성능: 병렬로 처리되는 쿼리 수가 늘어나므로 성능이 좋아진다.
- 높은 안정성: 자연 재해 등의 이유로 DB의 일부가 파괴되어도 데이터는 보존될 수 있기 때문에 안정성이 높아진다.
- 높은 가용성: 하나의 데이터베이스가 장애가 나더라도 다른 데이터베이스를 사용하여 계속 서비스할 수 있게된다.

> ### 설계안 동작 방식

- 사용자는 DNS로부터 로드밸런서의 공개 IP주소를 받는다.
- 사용자는 해당 IP주솔르 사용해 로드밸런서에 접속한다.
- HTTP 요청은 서버 1이나 서버 2로 전달된다.
- 웹 서버는 사용자의 데이터를 부 데이터베이스 서버에서 읽는다.
- 웹 서버는 데이터 변경 연산은 주 데이터베이스로 전달한다. 데이터 추가, 삭제, 갱신 연산 등이 이에 해당한다.
